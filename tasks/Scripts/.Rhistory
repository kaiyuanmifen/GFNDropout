DIS1=c(DIS1,mean(dist(VecPlot,method="manhattan")))
VecPlot=data2[data2$DataPoint==DataPoint ,c(1:1024)]
DIS2=c(DIS2,mean(dist(VecPlot,method="manhattan")))
}
DIS1
DIS2
boxplot(list(DIS1,DIS2))
####distances among different point
AllData=NULL
for (augmenation in c("frost","snow","gaussian_noise")){
for (severity in 1:5){
File1=paste0("../Results/masks/cifar10c_",augmenation,"_",severity,"_","bottomup","_False_False_False_False_mask.csv")
File2=paste0("../Results/masks/cifar10c_",augmenation,"_",severity,"_","random","_False_False_False_False_mask.csv")
data=read.csv(File1,header = T)
data=data[,2:ncol(data)]
data$DataPoint=1:(nrow(data)/20)
data2=read.csv(File2,header = T)
data2=data[,2:ncol(data2)]
data2$DataPoint=1:(nrow(data2)/20)
DIS1=NULL
DIS2=NULL
for (DataPoint in unique(data$DataPoint)){
VecPlot=data[data$DataPoint==DataPoint ,c(1:1024)]
DIS1=c(DIS1,mean(dist(VecPlot,method="manhattan")))
VecPlot=data2[data2$DataPoint==DataPoint ,c(1:1024)]
DIS2=c(DIS2,mean(dist(VecPlot,method="manhattan")))
}
DIS1=data.frame(Method="bottomup",Dist=DIS1,augmenation=augmenation,severity=severity)
DIS2=data.frame(Method="random",Dist=DIS2,augmenation=augmenation,severity=severity)
AllData=rbind(AllData,DIS1)
AllData=rbind(AllData,DIS2)
}
}
head(AllData)
P=ggplot(data=AllData, aes(x=severity, y=Dist, color=Method)) +
geom_line(size=1)+
geom_point()+geom_errorbar(aes(ymin=Accuracy-se, ymax=Accuracy+se), width=.2,
position=position_dodge(0.05))+
xlab("Amount of augmentation") +
ylab("Accuracy") + ggtitle(paste(Data_name,"with","all",'augmentations'))+
theme(plot.title = element_text(hjust = 0.5),
panel.background = element_blank(),legend.position = "bottom",
panel.grid.minor = element_line(colour="grey", size=0.5),
text = element_text(size=20),
legend.text=element_text(size=20))+
scale_color_brewer(palette="Spectral")
P
P=ggplot(data=AllData, aes(x=severity, y=Dist, color=Method)) +
geom_line(size=1)+
xlab("Amount of augmentation") +
ylab("Accuracy") + ggtitle(paste(Data_name,"with","all",'augmentations'))+
theme(plot.title = element_text(hjust = 0.5),
panel.background = element_blank(),legend.position = "bottom",
panel.grid.minor = element_line(colour="grey", size=0.5),
text = element_text(size=20),
legend.text=element_text(size=20))+
scale_color_brewer(palette="Spectral")
P
#  geom_point()+geom_errorbar(aes(ymin=Accuracy-se, ymax=Accuracy+se), width=.2,
#position=position_dodge(0.05))+
Data_name="CIFAR10"
P=ggplot(data=AllData, aes(x=severity, y=Dist, color=Method)) +
geom_line(size=1)+
xlab("Amount of augmentation") +
ylab("Accuracy") + ggtitle(paste(Data_name,"with","all",'augmentations'))+
theme(plot.title = element_text(hjust = 0.5),
panel.background = element_blank(),legend.position = "bottom",
panel.grid.minor = element_line(colour="grey", size=0.5),
text = element_text(size=20),
legend.text=element_text(size=20))+
scale_color_brewer(palette="Spectral")
P
P=ggplot(data=AllData, aes(x=severity, y=Dist, color=Method)) +
geom_line(size=1)+
xlab("Amount of augmentation") +
ylab("Accuracy") + ggtitle(paste(Data_name,"with","all",'augmentations'))+
theme(plot.title = element_text(hjust = 0.5),
panel.background = element_blank(),legend.position = "bottom",
panel.grid.minor = element_line(colour="grey", size=0.5),
text = element_text(size=20),
legend.text=element_text(size=20))
P
####distances among different point
AllData=NULL
for (augmenation in c("frost","snow","gaussian_noise")){
for (severity in 1:5){
File1=paste0("../Results/masks/cifar10c_",augmenation,"_",severity,"_","bottomup","_False_False_False_False_mask.csv")
File2=paste0("../Results/masks/cifar10c_",augmenation,"_",severity,"_","topdown","_False_False_False_False_mask.csv")
data=read.csv(File1,header = T)
data=data[,2:ncol(data)]
data$DataPoint=1:(nrow(data)/20)
data2=read.csv(File2,header = T)
data2=data[,2:ncol(data2)]
data2$DataPoint=1:(nrow(data2)/20)
DIS1=NULL
DIS2=NULL
for (DataPoint in unique(data$DataPoint)){
VecPlot=data[data$DataPoint==DataPoint ,c(1:1024)]
DIS1=c(DIS1,mean(dist(VecPlot,method="manhattan")))
VecPlot=data2[data2$DataPoint==DataPoint ,c(1:1024)]
DIS2=c(DIS2,mean(dist(VecPlot,method="manhattan")))
}
DIS1=data.frame(Method="bottomup",Dist=DIS1,augmenation=augmenation,severity=severity)
DIS2=data.frame(Method="random",Dist=DIS2,augmenation=augmenation,severity=severity)
AllData=rbind(AllData,DIS1)
AllData=rbind(AllData,DIS2)
}
}
head(AllData)
Data_name="CIFAR10"
P=ggplot(data=AllData, aes(x=severity, y=Dist, color=Method)) +
geom_line(size=1)+
xlab("Amount of augmentation") +
ylab("Accuracy") + ggtitle(paste(Data_name,"with","all",'augmentations'))+
theme(plot.title = element_text(hjust = 0.5),
panel.background = element_blank(),legend.position = "bottom",
panel.grid.minor = element_line(colour="grey", size=0.5),
text = element_text(size=20),
legend.text=element_text(size=20))
P
head(AllData)
####distances among different point
AllData=NULL
AllData=NULL
for (augmenation in c("frost","snow","gaussian_noise")){
for (severity in 1:5){
File1=paste0("../Results/masks/cifar10c_",augmenation,"_",severity,"_","bottomup","_False_False_False_False_mask.csv")
File2=paste0("../Results/masks/cifar10c_",augmenation,"_",severity,"_","topdown","_False_False_False_False_mask.csv")
data=read.csv(File1,header = T)
data=data[,2:ncol(data)]
data$DataPoint=1:(nrow(data)/20)
data2=read.csv(File2,header = T)
data2=data[,2:ncol(data2)]
data2$DataPoint=1:(nrow(data2)/20)
DIS1=NULL
DIS2=NULL
for (DataPoint in unique(data$DataPoint)){
VecPlot=data[data$DataPoint==DataPoint ,c(1:1024)]
DIS1=c(DIS1,mean(dist(VecPlot,method="manhattan")))
VecPlot=data2[data2$DataPoint==DataPoint ,c(1:1024)]
DIS2=c(DIS2,mean(dist(VecPlot,method="manhattan")))
}
DIS1=data.frame(Method="bottomup",Dist=DIS1,augmenation=augmenation,severity=severity)
DIS2=data.frame(Method="random",Dist=DIS2,augmenation=augmenation,severity=severity)
AllData=rbind(AllData,DIS1)
AllData=rbind(AllData,DIS2)
}
}
head(AllData)
Data_name="CIFAR10"
P=ggplot(data=AllData, aes(x=severity, y=Dist, color=Method)) +
geom_line(size=1)+
xlab("Amount of augmentation") +
ylab("Accuracy") + ggtitle(paste(Data_name,"with","all",'augmentations'))+
theme(plot.title = element_text(hjust = 0.5),
panel.background = element_blank(),legend.position = "bottom",
panel.grid.minor = element_line(colour="grey", size=0.5),
text = element_text(size=20),
legend.text=element_text(size=20))
P
####distances among different point
AllData=NULL
for (augmenation in c("frost","snow","gaussian_noise")){
for (severity in 1:5){
File1=paste0("../Results/masks/cifar10c_",augmenation,"_",severity,"_","random","_False_False_False_False_mask.csv")
File2=paste0("../Results/masks/cifar10c_",augmenation,"_",severity,"_","topdown","_False_False_False_False_mask.csv")
data=read.csv(File1,header = T)
data=data[,2:ncol(data)]
data$DataPoint=1:(nrow(data)/20)
data2=read.csv(File2,header = T)
data2=data[,2:ncol(data2)]
data2$DataPoint=1:(nrow(data2)/20)
DIS1=NULL
DIS2=NULL
for (DataPoint in unique(data$DataPoint)){
VecPlot=data[data$DataPoint==DataPoint ,c(1:1024)]
DIS1=c(DIS1,mean(dist(VecPlot,method="manhattan")))
VecPlot=data2[data2$DataPoint==DataPoint ,c(1:1024)]
DIS2=c(DIS2,mean(dist(VecPlot,method="manhattan")))
}
DIS1=data.frame(Method="bottomup",Dist=DIS1,augmenation=augmenation,severity=severity)
DIS2=data.frame(Method="random",Dist=DIS2,augmenation=augmenation,severity=severity)
AllData=rbind(AllData,DIS1)
AllData=rbind(AllData,DIS2)
}
}
head(AllData)
Data_name="CIFAR10"
P=ggplot(data=AllData, aes(x=severity, y=Dist, color=Method)) +
geom_line(size=1)+
xlab("Amount of augmentation") +
ylab("Accuracy") + ggtitle(paste(Data_name,"with","all",'augmentations'))+
theme(plot.title = element_text(hjust = 0.5),
panel.background = element_blank(),legend.position = "bottom",
panel.grid.minor = element_line(colour="grey", size=0.5),
text = element_text(size=20),
legend.text=element_text(size=20))
P
Method="topdown"
data=read.csv(File,header = T)
data=data[,2:ncol(data)]
data$DataPoint=1:(nrow(data)/20)
DIS=NULL
####distances among different point
Intra=NULL
Inter=NULL
DIS=NULL
for (DataPoint in unique(data$DataPoint)){
VecPlot=data[data$DataPoint==DataPoint ,c(1:1024)]
DIS=c(DIS,mean(dist(VecPlot,method="manhattan")))
}
Vec=data[data$DataPoint==DataPoint ,c(1:1024)]
mean(Vec)
Vec=data[data$DataPoint==DataPoint ,c(1:1024)]
Vec
rowsum(Vec)/nrow(Vec)
Vec=data[data$DataPoint==DataPoint ,c(1:1024)]
Vec
rowsum(Vec)
rowsum(as.matrix(Vec))
Vec=data[data$DataPoint==DataPoint ,c(1:1024)]
dim(Vec)
rowMeans(Vec)
colMeans(Vec)
DIS=NULL
VecPlot=NULL
for (DataPoint in unique(data$DataPoint)){
Vec=data[data$DataPoint==DataPoint ,c(1:1024)]
VecPlot=rbind(VecPlot,colMeans(Vec))
}
dist(VecPlot,method="manhattan")
c(dist(VecPlot,method="manhattan"))
####distances among different point
Intra=NULL
Inter=NULL
for (augmenation in c("frost","snow","gaussian_noise")){
for (severity in 1:5){
for (Method in c("random","topdown","bottomup")){
}
File=paste0("../Results/masks/cifar10c_",augmenation,"_",severity,"_",Method,"_False_False_False_False_mask.csv")
data=read.csv(File,header = T)
data=data[,2:ncol(data)]
data$DataPoint=1:(nrow(data)/20)
###intra-data point distance
DIS=NULL
for (DataPoint in unique(data$DataPoint)){
VecPlot=data[data$DataPoint==DataPoint ,c(1:1024)]
DIS=c(DIS,mean(dist(VecPlot,method="manhattan")))
}
DIS=data.frame(Method=Method,Dist=DIS,augmenation=augmenation,severity=severity)
Intra=rbind(Intra,DIS)
###inter-data point distance
VecPlot=NULL
for (DataPoint in unique(data$DataPoint)){
Vec=data[data$DataPoint==DataPoint ,c(1:1024)]
VecPlot=rbind(VecPlot,colMeans(Vec))
}
DIS=c(dist(VecPlot,method="manhattan"))
DIS=data.frame(Method=Method,Dist=DIS,augmenation=augmenation,severity=severity)
Inter=rbind(Inter,DIS)
}
}
head(Inter)
head(Intra)
P=ggplot(data=Intra, aes(x=severity, y=Dist, color=Method)) +
geom_line(size=1)+
xlab("Amount of augmentation") +
ylab("Accuracy") + ggtitle(paste(Data_name,"with","all",'augmentations'))+
theme(plot.title = element_text(hjust = 0.5),
panel.background = element_blank(),legend.position = "bottom",
panel.grid.minor = element_line(colour="grey", size=0.5),
text = element_text(size=20),
legend.text=element_text(size=20))
P
####distances among different point
Intra=NULL
Inter=NULL
for (augmenation in c("frost","snow","gaussian_noise")){
for (severity in 1:5){
for (Method in c("random","topdown","bottomup")){
File=paste0("../Results/masks/cifar10c_",augmenation,"_",severity,"_",Method,"_False_False_False_False_mask.csv")
data=read.csv(File,header = T)
data=data[,2:ncol(data)]
data$DataPoint=1:(nrow(data)/20)
###intra-data point distance
DIS=NULL
for (DataPoint in unique(data$DataPoint)){
VecPlot=data[data$DataPoint==DataPoint ,c(1:1024)]
DIS=c(DIS,mean(dist(VecPlot,method="manhattan")))
}
DIS=data.frame(Method=Method,Dist=DIS,augmenation=augmenation,severity=severity)
Intra=rbind(Intra,DIS)
###inter-data point distance
VecPlot=NULL
for (DataPoint in unique(data$DataPoint)){
Vec=data[data$DataPoint==DataPoint ,c(1:1024)]
VecPlot=rbind(VecPlot,colMeans(Vec))
}
DIS=c(dist(VecPlot,method="manhattan"))
DIS=data.frame(Method=Method,Dist=DIS,augmenation=augmenation,severity=severity)
Inter=rbind(Inter,DIS)
}
}
}
head(Inter)
head(Intra)
#  geom_point()+geom_errorbar(aes(ymin=Accuracy-se, ymax=Accuracy+se), width=.2,
#position=position_dodge(0.05))+
#inta distance
Data_name="CIFAR10"
P=ggplot(data=Intra, aes(x=severity, y=Dist, color=Method)) +
geom_line(size=1)+
xlab("Amount of augmentation") +
ylab("Accuracy") + ggtitle(paste(Data_name,"with","all",'augmentations'))+
theme(plot.title = element_text(hjust = 0.5),
panel.background = element_blank(),legend.position = "bottom",
panel.grid.minor = element_line(colour="grey", size=0.5),
text = element_text(size=20),
legend.text=element_text(size=20))
P
P=ggplot(data=Intra, aes(x=severity, y=Dist, color=Method)) +
geom_boxplot()+
xlab("Amount of augmentation") +
ylab("Accuracy") + ggtitle(paste(Data_name,"with","all",'augmentations'))+
theme(plot.title = element_text(hjust = 0.5),
panel.background = element_blank(),legend.position = "bottom",
panel.grid.minor = element_line(colour="grey", size=0.5),
text = element_text(size=20),
legend.text=element_text(size=20))
P
Intra$severity=factor(Intra$severity)
P=ggplot(data=Intra, aes(x=severity, y=Dist, color=Method)) +
geom_boxplot()+
xlab("Amount of augmentation") +
ylab("Accuracy") + ggtitle(paste(Data_name,"with","all",'augmentations'))+
theme(plot.title = element_text(hjust = 0.5),
panel.background = element_blank(),legend.position = "bottom",
panel.grid.minor = element_line(colour="grey", size=0.5),
text = element_text(size=20),
legend.text=element_text(size=20))
P
Inter$severity=factor(Inter$severity)
P=ggplot(data=Inter, aes(x=severity, y=Dist, color=Method)) +
geom_boxplot()+
xlab("Amount of augmentation") +
ylab("Accuracy") + ggtitle(paste(Data_name,"with","all",'augmentations'))+
theme(plot.title = element_text(hjust = 0.5),
panel.background = element_blank(),legend.position = "bottom",
panel.grid.minor = element_line(colour="grey", size=0.5),
text = element_text(size=20),
legend.text=element_text(size=20))
P
Inter$severity=factor(Inter$severity)
VecPlot=Inter[Inter$augmenation=="frost",]
P=ggplot(data=VecPlot, aes(x=severity, y=Dist, color=Method)) +
geom_boxplot()+
xlab("Amount of augmentation") +
ylab("Accuracy") + ggtitle(paste(Data_name,"with","all",'augmentations'))+
theme(plot.title = element_text(hjust = 0.5),
panel.background = element_blank(),legend.position = "bottom",
panel.grid.minor = element_line(colour="grey", size=0.5),
text = element_text(size=20),
legend.text=element_text(size=20))
P
Intra$severity=factor(Intra$severity)
P=ggplot(data=Intra, aes(x=severity, y=Dist, color=Method)) +
geom_boxplot()+
xlab("Amount of augmentation") +
ylab("Accuracy") + ggtitle(paste(Data_name,"with","all",'augmentations'))+
theme(plot.title = element_text(hjust = 0.5),
panel.background = element_blank(),legend.position = "bottom",
panel.grid.minor = element_line(colour="grey", size=0.5),
text = element_text(size=20),
legend.text=element_text(size=20))
P
Inter$severity=factor(Inter$severity)
VecPlot=Inter[Inter$augmenation=="snow",]
P=ggplot(data=VecPlot, aes(x=severity, y=Dist, color=Method)) +
geom_boxplot()+
xlab("Amount of augmentation") +
ylab("Accuracy") + ggtitle(paste(Data_name,"with","all",'augmentations'))+
theme(plot.title = element_text(hjust = 0.5),
panel.background = element_blank(),legend.position = "bottom",
panel.grid.minor = element_line(colour="grey", size=0.5),
text = element_text(size=20),
legend.text=element_text(size=20))
P
Data_name="CIFAR10"
Intra$severity=factor(Intra$severity)
VecPlot=Intra[Intra$augmenation=="snow",]
P=ggplot(data=VecPlot, aes(x=severity, y=Dist, color=Method)) +
geom_boxplot()+
xlab("Amount of augmentation") +
ylab("Accuracy") + ggtitle(paste(Data_name,"with","all",'augmentations'))+
theme(plot.title = element_text(hjust = 0.5),
panel.background = element_blank(),legend.position = "bottom",
panel.grid.minor = element_line(colour="grey", size=0.5),
text = element_text(size=20),
legend.text=element_text(size=20))
P
Data_name="CIFAR10"
Intra$severity=factor(Intra$severity)
VecPlot=Intra[Intra$augmenation=="frost",]
P=ggplot(data=VecPlot, aes(x=severity, y=Dist, color=Method)) +
geom_boxplot()+
xlab("Amount of augmentation") +
ylab("Accuracy") + ggtitle(paste(Data_name,"with","all",'augmentations'))+
theme(plot.title = element_text(hjust = 0.5),
panel.background = element_blank(),legend.position = "bottom",
panel.grid.minor = element_line(colour="grey", size=0.5),
text = element_text(size=20),
legend.text=element_text(size=20))
P
VecPlot=Intra
P=ggplot(data=VecPlot, aes(x=severity, y=Dist, color=Method)) +
geom_boxplot()+
xlab("Amount of augmentation") +
ylab("Accuracy") + ggtitle(paste(Data_name,"with","all",'augmentations'))+
theme(plot.title = element_text(hjust = 0.5),
panel.background = element_blank(),legend.position = "bottom",
panel.grid.minor = element_line(colour="grey", size=0.5),
text = element_text(size=20),
legend.text=element_text(size=20))
P
Inter$severity=factor(Inter$severity)
VecPlot=Inter[Inter$augmenation=="snow",]
VecPlot=Inter
P=ggplot(data=VecPlot, aes(x=severity, y=Dist, color=Method)) +
geom_boxplot()+
xlab("Amount of augmentation") +
ylab("Accuracy") + ggtitle(paste(Data_name,"with","all",'augmentations'))+
theme(plot.title = element_text(hjust = 0.5),
panel.background = element_blank(),legend.position = "bottom",
panel.grid.minor = element_line(colour="grey", size=0.5),
text = element_text(size=20),
legend.text=element_text(size=20))
P
####distances among different point
Intra=NULL
Inter=NULL
for (augmenation in c("frost","snow","gaussian_noise")){
for (severity in 1:5){
for (Method in c("random","topdown","bottomup")){
File=paste0("../Results/masks/cifar10c_",augmenation,"_",severity,"_",Method,"_False_False_False_False_mask.csv")
data=read.csv(File,header = T)
data=data[,2:ncol(data)]
data$DataPoint=1:(nrow(data)/20)
###intra-data point distance
DIS=NULL
for (DataPoint in unique(data$DataPoint)){
VecPlot=data[data$DataPoint==DataPoint ,c(1:1024)]
DIS=c(DIS,max(dist(VecPlot,method="manhattan")))
}
DIS=data.frame(Method=Method,Dist=DIS,augmenation=augmenation,severity=severity)
Intra=rbind(Intra,DIS)
###inter-data point distance
VecPlot=NULL
for (DataPoint in unique(data$DataPoint)){
Vec=data[data$DataPoint==DataPoint ,c(1:1024)]
VecPlot=rbind(VecPlot,colMeans(Vec))
}
DIS=max(c(dist(VecPlot,method="manhattan")))
DIS=data.frame(Method=Method,Dist=DIS,augmenation=augmenation,severity=severity)
Inter=rbind(Inter,DIS)
}
}
}
head(Inter)
head(Intra)
#  geom_point()+geom_errorbar(aes(ymin=Accuracy-se, ymax=Accuracy+se), width=.2,
#position=position_dodge(0.05))+
#inta distance
Data_name="CIFAR10"
Intra$severity=factor(Intra$severity)
VecPlot=Intra[Intra$augmenation=="frost",]
VecPlot=Intra
P=ggplot(data=VecPlot, aes(x=severity, y=Dist, color=Method)) +
geom_boxplot()+
xlab("Amount of augmentation") +
ylab("Accuracy") + ggtitle(paste(Data_name,"with","all",'augmentations'))+
theme(plot.title = element_text(hjust = 0.5),
panel.background = element_blank(),legend.position = "bottom",
panel.grid.minor = element_line(colour="grey", size=0.5),
text = element_text(size=20),
legend.text=element_text(size=20))
P
Inter$severity=factor(Inter$severity)
VecPlot=Inter[Inter$augmenation=="snow",]
VecPlot=Inter
P=ggplot(data=VecPlot, aes(x=severity, y=Dist, color=Method)) +
geom_boxplot()+
xlab("Amount of augmentation") +
ylab("Accuracy") + ggtitle(paste(Data_name,"with","all",'augmentations'))+
theme(plot.title = element_text(hjust = 0.5),
panel.background = element_blank(),legend.position = "bottom",
panel.grid.minor = element_line(colour="grey", size=0.5),
text = element_text(size=20),
legend.text=element_text(size=20))
P
Inter$severity=factor(Inter$severity)
VecPlot=Inter[Inter$augmenation=="snow",]
VecPlot=Inter
P=ggplot(data=VecPlot, aes(x=severity, y=Dist, color=Method)) +
geom_boxplot()+
xlab("Amount of augmentation") +
ylab("max inter sample distance") + ggtitle(paste(Data_name,"with","all",'augmentations'))+
theme(plot.title = element_text(hjust = 0.5),
panel.background = element_blank(),legend.position = "bottom",
panel.grid.minor = element_line(colour="grey", size=0.5),
text = element_text(size=20),
legend.text=element_text(size=20))
P
